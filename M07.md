---
layout: default
title: LoRaWAN Initial setup and connectivity
license: https://github.com/DavidKendall/blinky/blob/master/LICENSE
---

## Note
I've only got the one board so I've not been able to try-out the board pairing
and communications.  We'll have to see how this goes.  _Alun_

---

# LoRa Shield

The LoRa shield is the
[SM1272MB2xAS](https://os.mbed.com/components/SA1272MB2xAS/)

* [Datasheet](https://www.semtech.com/uploads/documents/sx1272.pdf)
* [Schematics](https://os.mbed.com/media/uploads/GregCr/sx1272mb2xas_e364v01a_sch.pdf)


## Hello world
There is a good introductory example on the Shield's documentation page.

You can import it onto the local PC
```shell
$ mbed import https://os.mbed.com/teams/Semtech/code/SX1272PingPong/
$ cd SX1272PingPong
$ mbed compile
```

Run the program on a pair of boards with the LoRa Shield.  They should start
communicating.   If I've read the code right, the `debug(` functions invoke
`printf` so the output should be available on the PC via the console.

## Communications
You can adapt the serial protocol developed in weeks 1 and 2 to use the LoRa
communications instead of the board to board serial communications.

1. Establish a link between two boards so that messages from on PC are sent to
   the board via it's USB link, transmitted to the other board, and relayed to
   the second PC.

2. Establish a link where messages are transmitted from the boards using MQTT
   via an ethernet link.

----

Now we have a means of getting data from one board to another using the LoRa
radio link, and then getting the data to a PC via serial MQTT via the
internet.  We can log data from the sensors for analysis and storage.


